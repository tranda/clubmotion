import{u as w,r as h,j as e,L as N,a as L}from"./app-b95ba4d5.js";import{L as E}from"./Layout-410c0863.js";/* empty css            */function $({myAchievementsByEvent:x,clubAchievementsByEvent:g,myAchievementKeys:b}){var m,u;const{auth:p}=w().props,c=((u=(m=p.user)==null?void 0:m.role)==null?void 0:u.name)||"user",y=c==="admin"||c==="superuser",[n,d]=h.useState("my"),f=t=>{switch(t){case"GOLD":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"SILVER":return"bg-gray-100 text-gray-800 border-gray-300";case"BRONZE":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-blue-100 text-blue-800 border-blue-300"}},v=t=>{switch(t){case"GOLD":return"🥇";case"SILVER":return"🥈";case"BRONZE":return"🥉";default:return"🏅"}},j=t=>{const s=`${t.event_name}|${t.competition_class}|${t.medal}`;return b.includes(s)};h.useEffect(()=>{let t=0,s=!1;const l=a=>{window.scrollY===0&&(t=a.touches[0].pageY,s=!0)},r=a=>{if(!s)return;a.touches[0].pageY-t>100&&(s=!1,L.reload())},o=()=>{s=!1};return document.addEventListener("touchstart",l),document.addEventListener("touchmove",r),document.addEventListener("touchend",o),()=>{document.removeEventListener("touchstart",l),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",o)}},[]);const i=n==="my"?x:g;return e.jsx(E,{children:e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Achievements"}),e.jsx("p",{className:"text-gray-600 mt-1",children:n==="my"?"Track your personal achievements and milestones":"All unique achievements earned by club members"})]}),y&&e.jsxs(N,{href:"/achievements/import",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Import"]})]}),e.jsxs("div",{className:"mb-6 flex gap-2",children:[e.jsx("button",{onClick:()=>d("my"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all ${n==="my"?"bg-purple-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:"My Achievements"}),e.jsx("button",{onClick:()=>d("club"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all ${n==="club"?"bg-indigo-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:"Club Achievements"})]}),Object.keys(i).length===0?e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Achievements Yet"}),e.jsx("p",{className:"text-gray-600",children:n==="my"?"Your achievements will appear here once they are added":"Club achievements will appear here once they are added"})]})}):e.jsx("div",{className:"space-y-6",children:Object.entries(i).map(([t,s])=>{var l;return e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:[t,((l=s[0])==null?void 0:l.year)&&e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-600",children:["(",s[0].year,")"]})]}),e.jsx("div",{className:"space-y-2",children:s.map((r,o)=>{const a=n==="club"&&j(r);return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors ${a?"bg-green-50 border-2 border-green-300":"bg-gray-50 hover:bg-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a&&e.jsx("span",{className:"text-green-600 font-bold text-lg",children:"✓"}),e.jsx("p",{className:"text-gray-900 font-medium",children:r.competition_class})]}),e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full border ${f(r.medal)}`,children:[e.jsx("span",{className:"text-lg",children:v(r.medal)}),e.jsx("span",{className:"font-semibold text-sm",children:r.medal})]})]},o)})})]},t)})})]})})}export{$ as default};
