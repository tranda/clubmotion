import{u as b,r as p,j as e,L as c}from"./app-37caabb3.js";import{L as f}from"./Layout-0e92c50c.js";/* empty css            */function _({member:s,categories:m}){const{data:l,setData:r,post:u,processing:n,errors:a}=b({name:s.name||"",membership_number:s.membership_number||"",date_of_birth:s.date_of_birth||"",address:s.address||"",phone:s.phone||"",email:s.email||"",category_id:s.category_id||"",medical_validity:s.medical_validity||"",is_active:s.is_active||!1,image:null,_method:"PUT"}),[o,x]=p.useState(s.image?`/storage/${s.image}`:null),h=t=>{const i=t.target.files[0];if(i){r("image",i);const d=new FileReader;d.onloadend=()=>{x(d.result)},d.readAsDataURL(i)}},g=t=>{t.preventDefault(),u(`/members/${s.id}`)};return e.jsx(f,{children:e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(c,{href:`/members/${s.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M15 19l-7-7 7-7"})}),"Back to Member Details"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Edit Member Details"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),e.jsxs("div",{className:"flex flex-col items-center",children:[o?e.jsx("img",{src:o,alt:"Preview",className:"h-32 w-32 rounded-full object-cover mb-4"}):e.jsx("div",{className:"h-32 w-32 rounded-full bg-gray-200 flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Upload a new image to replace the current one"})]}),a.image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.image})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",value:l.name,onChange:t=>r("name",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"membership_number",className:"block text-sm font-medium text-gray-700 mb-2",children:["Membership ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"membership_number",value:l.membership_number,onChange:t=>r("membership_number",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.membership_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.membership_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date_of_birth",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsx("input",{type:"date",id:"date_of_birth",value:l.date_of_birth,onChange:t=>r("date_of_birth",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.date_of_birth&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.date_of_birth})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",id:"address",value:l.address,onChange:t=>r("address",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",id:"phone",value:l.phone,onChange:t=>r("phone",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:l.email,onChange:t=>r("email",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{id:"category_id",value:l.category_id,onChange:t=>r("category_id",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Category"}),m.map(t=>e.jsx("option",{value:t.id,children:t.category_name},t.id))]}),a.category_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"medical_validity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Medical Validity"}),e.jsx("input",{type:"date",id:"medical_validity",value:l.medical_validity,onChange:t=>r("medical_validity",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.medical_validity&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.medical_validity})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"is_active",className:"block text-sm font-medium text-gray-700 mb-2",children:"Active Status"}),e.jsxs("select",{id:"is_active",value:l.is_active?"1":"0",onChange:t=>r("is_active",t.target.value==="1"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"0",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:n?"Saving...":"Save Changes"}),e.jsx(c,{href:`/members/${s.id}`,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-center",children:"Cancel"})]})]})})]})})}export{_ as default};
