import{r as p,j as e,L as g,a as o}from"./app-abf87045.js";import{L as y}from"./Layout-2d1c63de.js";/* empty css            */function v({year:t,memberCount:a,presets:m=[]}){const[l,r]=p.useState({1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:""}),c={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},x=s=>{s.preventDefault(),confirm(`This will create ${a*12} payment records for ${t}. Continue?`)&&o.post("/payments/initialize",{year:t,monthly_rates:l})},b=(s,n,u)=>{const d={...l};for(let i=s;i<=n;i++)d[i]=u;r(d)},h=()=>{r({1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:""})};return e.jsx(y,{children:e.jsxs("div",{className:"py-4 max-w-4xl mx-auto",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Initialize Payment Year - ",t]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Overview"}),e.jsxs("p",{className:"text-gray-600",children:["This will create payment records for all ",a," active members for the year ",t,". Total records to be created: ",e.jsx("strong",{children:a*12})]})]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-md font-semibold",children:"Set Expected Monthly Rates (RSD)"}),e.jsx(g,{href:"/payments/presets",className:"text-sm text-blue-600 hover:text-blue-800",children:"Manage Presets"})]}),e.jsxs("div",{className:"mb-4 flex gap-2 flex-wrap",children:[m.map(s=>e.jsx("button",{type:"button",onClick:()=>b(s.start_month,s.end_month,s.rate),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-sm",children:s.name},s.id)),e.jsx("button",{type:"button",onClick:h,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",children:"Clear all"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:Object.keys(c).map(s=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c[s]}),e.jsx("input",{type:"number",value:l[s],onChange:n=>r({...l,[s]:n.target.value}),placeholder:"0",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]},s))})]}),e.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What will happen:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["✓ Create 12 payment records for each of ",a," active members"]}),e.jsx("li",{children:'✓ Members marked as "pocasni" or "saradnik" will be auto-exempted'}),e.jsx("li",{children:"✓ Expected amounts will be set according to your rates above"}),e.jsx("li",{children:'✓ All payments will start with "pending" status (except exempted members)'}),e.jsxs("li",{children:["✓ Existing records for ",t," will NOT be duplicated"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>o.get("/payments"),className:"px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:["Initialize ",t," Payments"]})]})]})]})]})})}export{v as default};
