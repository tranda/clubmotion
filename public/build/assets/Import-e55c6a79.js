import{u as b,r as a,j as e,L as g,a as h}from"./app-7cdfb5d2.js";import{L as f}from"./Layout-4747afb2.js";/* empty css            */function E(){const{flash:s}=b().props,[l,i]=a.useState(null),[o,c]=a.useState(!1);a.useEffect(()=>{let r=0,t=!1;const d=n=>{window.scrollY===0&&(r=n.touches[0].pageY,t=!0)},m=n=>{if(!t)return;n.touches[0].pageY-r>100&&(t=!1,h.reload())},u=()=>{t=!1};return document.addEventListener("touchstart",d),document.addEventListener("touchmove",m),document.addEventListener("touchend",u),()=>{document.removeEventListener("touchstart",d),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",u)}},[]);const x=r=>{const t=r.target.files[0];i(t)},p=r=>{if(r.preventDefault(),!l){alert("Please select a file to upload");return}c(!0);const t=new FormData;t.append("file",l),h.post("/achievements/import",t,{onFinish:()=>{c(!1),i(null)}})};return e.jsx(f,{children:e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Achievements"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Upload a CSV file with member achievements"})]}),e.jsx(g,{href:"/my-achievements",className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"‚Üê Back to Achievements"})]}),(s==null?void 0:s.success)&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:s.success}),(s==null?void 0:s.error)&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg",children:s.error}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Upload CSV File"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),e.jsx("input",{type:"file",accept:".csv",onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",l.name]})]}),e.jsx("button",{type:"submit",disabled:!l||o,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:o?"Processing...":"Upload and Import"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"CSV Format"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your CSV file should contain the following columns:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 mb-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"membership_number"})," - Member's ID number"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"competition class"})," - Competition category"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"medal"})," - Medal type (GOLD, SILVER, BRONZE)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Event name"})," - Name of the event/competition"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Example:"}),e.jsx("pre",{className:"text-xs text-gray-600 overflow-x-auto",children:"membership_number,competition class,medal,Event name 4,SM Premier Mixed 500m,GOLD,National 2025 5,SM Premier Mixed 200m,SILVER,National 2025"})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," The import will automatically match members by their membership number and extract the year from the event name."]})})]})]})]})})}export{E as default};
